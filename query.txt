-- 1. Selezionare tutti gli eventi gratis (prezzo nullo)
    SELECT * FROM events WHERE price = 0;

-- 2. Selezionare tutte le location in ordine alfabetico
    SELECT * FROM locations ORDER BY name ASC;

-- 3. Selezionare tutti gli eventi che costano meno di 20 euro e durano meno di 3 ore
    SELECT * FROM events WHERE price < 20 AND duration < '03:00:00';

-- 4. Selezionare tutti gli eventi di dicembre 2023
    SELECT * FROM events WHERE MONTH(start) = 12 AND YEAR(start) = 2023;

-- 5. Selezionare tutti gli eventi con una durata maggiore alle 2 ore
    SELECT * FROM events WHERE duration > '02:00:00';

-- 6. Selezionare tutti gli eventi con nome, data di inizio, ora di inizio, ora di fine e durata totale
    SELECT name, DATE(start) AS start_date, TIME(start) AS start_time, TIME(DATE_ADD(start, INTERVAL TIME_TO_SEC(duration) SECOND)) AS end_time, duration FROM events;

-- 7. Selezionare tutti gli eventi aggiunti da "Fabiano Lombardo" (id: 1202)
    SELECT * FROM events WHERE user_id = 1202;

-- 8. Selezionare il numero totale di eventi per ogni fascia di prezzo
    SELECT price, COUNT(*) AS event_count FROM events GROUP BY price;

-- 9. Selezionare tutti gli utenti admin ed editor
    SELECT * FROM users 
    JOIN roles ON roles.id = users.role_id
    WHERE roles.name LIKE 'admin' OR roles.name LIKE 'editor'

-- 10. Selezionare tutti i concerti (eventi con il tag "concerti")
    SELECT * FROM events 
    JOIN event_tag ON event_tag.event_id = events.id 
    JOIN tags ON tags.id = event_tag.tag_id 
    WHERE tags.name = 'concerti'

-- 11. Selezionare tutti i tag e il prezzo medio degli eventi a loro collegati
    SELECT tags.name, AVG(events.price) as average_price
    FROM tags
    JOIN event_tag ON tags.id = event_tag.tag_id
    JOIN events ON event_tag.event_id = events.id
    GROUP BY tags.name;

